<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.javalec.ex.Dao.CDao">



     <!-- 일반 상품평 -->



<!-- 	<select id="c_list" resultType="com.javalec.ex.Dto.CDto.C_ReviewDto">
		select * from c_review order by cr_num desc
	</select> -->
	
	
	<select id="c_view" resultType="com.javalec.ex.Dto.CDto.C_ReviewDto">
		select * from c_review where id=#{param1}
	</select>


	<insert id="c_write">
		insert into c_review (cr_num,id,p_code,cr_title,cr_content,cr_score, cr_hit)
		values (c_review_seq.nextval,#{param1},#{param2},#{param3},#{param4},#{param5},#{param6})
	</insert>
	
	
	
	<!-- 총 게시글 갯수 출력 -->
	<select id="c_countBoard" resultType="int">
		SELECT COUNT(*) FROM c_review
	</select>
	
	
	<!-- 페이징 처리 후 게시글 조회 -->
    <select id="c_selectBoard" resultType="com.javalec.ex.Dto.CDto.C_ReviewDto">
       SELECT * 
		FROM (
			SELECT ROWNUM RN, A.* 
				FROM (
						SELECT * 
						FROM c_review 
						ORDER BY cr_num DESC 
						) A
				)
	WHERE RN BETWEEN #{start} AND #{end}
    </select>
	
	
	
	
	
	<!-- 포토 상품평  -->
	
	
<!-- 	
	<select id="p_list" resultType="com.javalec.ex.Dto.CDto.P_ReviewDto">
		select * from p_review order by pr_num desc
	</select>
	 -->
	
	
	
	<select id="p_view" resultType="com.javalec.ex.Dto.CDto.P_ReviewDto">
		select * from p_review where id=#{param1}
	</select>




	<insert id="p_write">
		insert into p_review (pr_num, id, p_code, pr_title, pr_content, pr_file, pr_score, pr_hit)
		values (p_review_seq.nextval,#{param1},#{param2},#{param3},#{param4},#{param5},#{param6},#{param7})
	</insert>



	<!-- 총 게시글 갯수 출력 -->
	<select id="countBoard" resultType="int">
		SELECT COUNT(*) FROM p_review
	</select>
	
	
	<!-- 페이징 처리 후 게시글 조회 -->
    <select id="selectBoard" resultType="com.javalec.ex.Dto.CDto.P_ReviewDto">
       SELECT * 
		FROM (
			SELECT ROWNUM RN, A.* 
				FROM (
						SELECT * 
						FROM p_review 
						ORDER BY pr_num DESC 
						) A
				)
	WHERE RN BETWEEN #{start} AND #{end}
    </select>











</mapper>