<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.javalec.ex.Dao.BDao">

	
<select id="getBoardList" resultType="com.javalec.ex.Dto.MDto.NoticeDto">

		SELECT n_num, n_title, n_content, n_hit, n_wdate FROM notice

		<trim prefix="WHERE" prefixOverrides="AND|OR">

			<if test="searchType=='title' and keyword != null and keyword != '' ">

				AND n_TITLE like '%' ||  #{keyword} || '%'

				
			</if>

			<if test="searchType=='content' and keyword != null and keyword != '' ">

				AND n_CONTENT like '%' ||  #{keyword} || '%'

			</if>

	
		<!-- 	<if test="searchType=='reg_id' and keyword != null and keyword != '' ">

				AND reg_id like CONCAT('%', #{keyword}, '%')

			</if>	 -->
			

		</trim>


	</select>



	<select id="getBoardListCnt" resultType="int">

		SELECT count(*) as listCnt

		FROM notice

	<trim prefix="WHERE" prefixOverrides="AND|OR">


            <if test="keyword != null and keyword != '' ">
			
			<if test="searchType=='title'">

				AND n_TITLE like '%' ||  #{keyword} || '%'

			</if>
			

			<if test="searchType=='content'">

				AND n_CONTENT like '%' ||  #{keyword} || '%'

			</if>
			
			<!-- <if test="searchType=='reg_id'">

				AND reg_id like CONCAT('%', #{keyword}, '%')

			</if> -->

      </if>

	</trim>

	</select>


</mapper>